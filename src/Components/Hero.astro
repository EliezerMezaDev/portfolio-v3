---
interface Props {
  content: {
    greeting: string;
    name: string;
    tagline: string;
    description: string;
    cta: string;
  };
  personal_info: {
    name: string;
    email: string;
    location: string;
    role: string;
    role_en: string;
    profile_image: string;
    experience_years: number;
    social_links: {
      linkedin: string;
    };
  };
}

interface Props {
  t: {
    hero: {
      greeting: string;
      description: string;
      cta: string;
    };
    personal_info: {
      name: string;
      email: string;
      location: string;
      role: string;
      role_en: string;
      profile_image: string;
      experience_years: number;
      social_links: {
        linkedin: string;
      };
    };
  };
}

const { t } = Astro.props;
const { hero, personal_info } = t;
---

<section
  id="hero"
  class="container mx-auto min-h-screen flex items-center justify-center py-20 px-4 sm:px-6 lg:px-8"
>
  <div
    class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-x-12 gap-y-8 items-center"
  >
    <div class="text-center lg:text-left order-2 lg:order-1">
      <p class="hero-item text-lg font-mono text-accent mb-4 md:mb-6">
        {hero.greeting}
      </p>
      <h1
        class="hero-item text-4xl sm:text-6xl md:text-7xl font-bold text-brand-light tracking-tighter"
      >
        {personal_info.name}
      </h1>

      <p
        class="hero-item text-lg text-brand-light/70 max-w-xl mt-6 mx-auto lg:mx-0"
      >
        {hero.description}
      </p>
      <div class="hero-item mt-12">
        <a
          href="#projects"
          class="inline-block px-7 py-4 border border-accent text-accent font-mono text-lg rounded hover:bg-accent/10 transition-colors duration-300"
        >
          {hero.cta}
        </a>
      </div>
    </div>

    <div class="hero-item flex justify-center items-center order-1 lg:order-2">
      <picture class="w-[250px] lg:w-[300px] xl:w-[350px] aspect-square">
        <img
          id="portrait"
          src="/images/me.webp"
          alt="profile"
          class="w-full h-full object-cover"
        />
      </picture>
    </div>
  </div>
</section>

<style>
  #portrait {
    animation: 10s blobShape infinite ease-in-out;
  }

  .hero-item {
    opacity: 0;
    transform: translateY(20px);
  }

  @keyframes blobShape {
    0%,
    100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    34% {
      border-radius: 80% 50% 60% 40% / 30% 70% 60% 60%;
    }
    67% {
      border-radius: 50% 70% 50% 60% / 40% 50% 50% 50%;
    }
  }
</style>

<script>
  import { gsap } from "gsap";

  function animateHero() {
    const heroItems = gsap.utils.toArray(".hero-item");

    gsap.to(heroItems, {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: "power3.out",
      stagger: 0.2,
      delay: 0.5,
    });
  }

  document.addEventListener("astro:page-load", animateHero);
</script>
